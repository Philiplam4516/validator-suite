@(jobs: Iterable[(org.w3.vs.model.Job, org.w3.vs.model.JobData)] = None)(implicit user: org.w3.vs.model.User)

@import views.Helper._

@libs.main("Validator Suite", stylesheets = List("mockup.css"), scripts = List("job.js")) {
	
	@libs.header(Some(user))
	@libs.navigation()
	
	<section id="jobs" class="main">
	<ul>
	@for((job, data) <- jobs) {	
		<li>
			<section class="job">
				<header style="display:none">@job.name</header>
				<ul class="meta">
					<li>Name: @job.name</li>
					<li>Uri: @job.strategy.seedURLs.head</li>
					<li>Status: @data.status</li>
					<li>Resources: @data.resources</li>
				</ul>
				<ul class="last">
					<li>Last run: <time datetime="">-</time></li>
					<li>Last updated: <time datetime="">-</time></li>
					<li>Errors: @data.errors</li>
					<li>Warnings: @data.warnings</li>
				</ul>
				<ul class="menu">
					<li><a href="@routes.Validator.showJob(job.id)">Show</a></li>
					<li>@defining(data.status) { status =>
					  @status match {
					    case org.w3.vs.run.Running => {Stop}
					    case _ => {<a href=@routes.Validator.runJob(job.id)>Run</a>}
					  }
					}</li>
					<li><a href="@routes.Validator.editJob(job.id)">Edit</a></li>
					<li>
					  <a href="@routes.Validator.deleteJob(job.id)">Delete</a>
					  @(/*helper.form(routes.Validator.jobDispatcher(job.id)){
					  <input type="hidden" name="http-method" value="delete"> @(/* The Delete method is not supported in HTML5... */)
					  <button type=submit>Delete</button>}*/)
					</li>
				</ul>
			</section>
		</li>
	}
	</ul>
	</section>
	
	@libs.footer()
	
}
