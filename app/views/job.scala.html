@(jobConf: JobConfiguration, 
    data: JobData,
    report: List[org.w3.vs.view.ReportSection],
    user: User,
    errors: List[(String, String)] = List.empty)(implicit flash: Flash)

@import org.w3.vs.view.Helper._
@import org.w3.vs.view._

@libs.main("Validator Suite", 
	stylesheets = List("dashboard.css"),
   scripts = List("model.js", "vs.js", "report.js")){
   
   @***** Header ******@
	
	@libs.header(Some(user))
	
}{ @***** Toolbar *****@

	<div class="report">

	<form method="get">
		<fieldset>
			<legend>Assertors</legend>
			<label><input name=assertor value=ValidatorNu type=checkbox checked>Validator.nu</label><br>
			<label><input name=assertor value=HTMLValidator type=checkbox checked>Markup validator</label><br>
			<label><input name=assertor value=CSSValidator type=checkbox checked>CSS validator</label><br>
			<label><input name=assertor value=I18n-Checker type=checkbox checked>I18n Checker</label><br>
			<label><input name=valid type=checkbox>Include valid results</label><br>
		</fieldset>
		<fieldset>
			<legend>Filters</legend>
			<!-- <label><input name=valid type=checkbox>Valid resources</label><br> -->
			<label><input name=type type=checkbox value=error checked>Errors</label><br>
			<label><input name=type type=checkbox value=warning checked>Warnings</label><br>
			<label><input name=type type=checkbox value=info>Info</label><br>
		</fieldset>
		<fieldset>
			<legend>Group</legend>
			<label><input name=group type=radio value="url.assertor" checked>By url - assertor</label><br>
			<label><input name=group type=radio value="message.url">By message - url</label><br>
			<label><input name=group type=radio value="message.context">By message - context</label><br>
			<label><input name=flat type=checkbox>Flat</label><br>
		</fieldset>
		<fieldset>
			<legend>Sort</legend>
			<label><input name=sort type=radio value=occurrences checked>By occurrences</label><br>
			<label><input name=sort type=radio value=url>By URL</label><br>
		</fieldset>
		<button>Submit</button>
	</form>
	
	<a href="">Default</a><br>
	<a href="#" class="compact">Compact</a><br>
	
	</div>

}{ @***** Content *****@ 
	
	@libs.navigation(List((jobConf.name ,"")))
	@libs.messages(errors)
	
	<section class="job" data-id="@jobConf.id"><div>
		<ul>
			<li>Name: <span class="name">@jobConf.name</span></li>
			<li>Uri: <span class="uri">@jobConf.strategy.seedURLs.head</span></li>
			<li>Distance: <span class="distance">@jobConf.strategy.distance</span></li>
			<li>Activity: <span class="activity">@data.activity</span></li>
		</ul>
		<ul>
			<li>Resources: <span class="resources">@data.resources</span></li>
			<li>Errors: <span class="errors">@data.errors</span></li>
			<li>Warnings: <span class="warnings">@data.warnings</span></li>
		</ul>
		<form action="@routes.Jobs.dispatcher(jobConf.id)" method="post">
			@defining(data.explorationMode) { mode =>
			@defining(data.activity) { activity =>
			  @activity match {
			    case Busy => {<button type="submit" name="action" value="stop" class="stop">Stop</button>}
			    case Idle => {
			      @mode match {
			        case ProActive => {}
			        case      Lazy => {}
			      }
			    }
			  }
			}}
			<button type="submit" name="action" value="refresh" class="refresh">Refresh</button>
			<button type="submit" name="action" value="delete" class="delete">Delete</button>
		</form>
	</div></section>
	
	<section id="report" class="nested">

	@Html(generateSections(report))

	</section>
	
}{ @***** Footer *****@

	@libs.footer()

}



















